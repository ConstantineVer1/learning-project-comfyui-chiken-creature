{"id":"ac943585-f904-4a49-a826-9e3f38bfa2eb","revision":0,"last_node_id":13,"last_link_id":12,"nodes":[{"id":2,"type":"BboxDetectorCombined_v2","pos":[989.610577872213,334.9199233263511],"size":[270,102],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":1},{"localized_name":"image","name":"image","type":"IMAGE","link":2},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"dilation","name":"dilation","type":"INT","widget":{"name":"dilation"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[3]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.25.1","Node name for S&R":"BboxDetectorCombined_v2"},"widgets_values":[0.5,4]},{"id":4,"type":"MaskPreview","pos":[1320.3816175516245,323.7930687805605],"size":[140,246],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":3}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":1,"type":"LoadImage","pos":[560.7209117435574,417.8655663040627],"size":[274,314],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[2,7,8]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"LoadImage"},"widgets_values":["beautiful-girl.jpg","image"]},{"id":6,"type":"SegmDetectorSEGS","pos":[989.6105778722127,507.89193490182345],"size":[210,224],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"segm_detector","name":"segm_detector","type":"SEGM_DETECTOR","link":4},{"localized_name":"image","name":"image","type":"IMAGE","link":7},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"dilation","name":"dilation","type":"INT","widget":{"name":"dilation"},"link":null},{"localized_name":"crop_factor","name":"crop_factor","type":"FLOAT","widget":{"name":"crop_factor"},"link":null},{"localized_name":"drop_size","name":"drop_size","type":"INT","widget":{"name":"drop_size"},"link":null},{"localized_name":"labels","name":"labels","type":"STRING","widget":{"name":"labels"},"link":null}],"outputs":[{"localized_name":"SEGS","name":"SEGS","type":"SEGS","links":[5,9]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.25.1","Node name for S&R":"SegmDetectorSEGS"},"widgets_values":[0.5,10,3,10,"all"]},{"id":7,"type":"SAMDetectorSegmented","pos":[987.5875134093417,926.6662787161231],"size":[236.6666717529297,218],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"sam_model","name":"sam_model","type":"SAM_MODEL","link":10},{"localized_name":"segs","name":"segs","type":"SEGS","link":9},{"localized_name":"image","name":"image","type":"IMAGE","link":8},{"localized_name":"detection_hint","name":"detection_hint","type":"COMBO","widget":{"name":"detection_hint"},"link":null},{"localized_name":"dilation","name":"dilation","type":"INT","widget":{"name":"dilation"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"bbox_expansion","name":"bbox_expansion","type":"INT","widget":{"name":"bbox_expansion"},"link":null},{"localized_name":"mask_hint_threshold","name":"mask_hint_threshold","type":"FLOAT","widget":{"name":"mask_hint_threshold"},"link":null},{"localized_name":"mask_hint_use_negative","name":"mask_hint_use_negative","type":"COMBO","widget":{"name":"mask_hint_use_negative"},"link":null}],"outputs":[{"localized_name":"combined_mask","name":"combined_mask","type":"MASK","links":[11]},{"localized_name":"batch_masks","name":"batch_masks","type":"MASK","links":[12]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.25.1","Node name for S&R":"SAMDetectorSegmented"},"widgets_values":["center-1",0,0.93,0,0.7,"False"]},{"id":10,"type":"SegsToCombinedMask","pos":[1301.1625051543488,636.3565282941323],"size":[211.79999389648438,26],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"segs","name":"segs","type":"SEGS","link":5}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[6]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.25.1","Node name for S&R":"SegsToCombinedMask"}},{"id":9,"type":"MaskPreview","pos":[1578.3223365676788,635.3449960626969],"size":[140,246],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":6}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":12,"type":"MaskPreview","pos":[1267.7819415169777,933.7470043361719],"size":[140,246],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":11}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":8,"type":"UltralyticsDetectorProvider","pos":[606.2398621581552,800.224749786685],"size":[270,78],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"BBOX_DETECTOR","name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":null},{"localized_name":"SEGM_DETECTOR","name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[4]}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"1.3.5","Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/face_yolov8m-seg_60.pt"]},{"id":3,"type":"UltralyticsDetectorProvider","pos":[640.6319580269627,273.216457208785],"size":[270,78],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"BBOX_DETECTOR","name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[1]},{"localized_name":"SEGM_DETECTOR","name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"1.3.5","Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8s.pt"]},{"id":11,"type":"SAMLoader","pos":[663.8971993499794,927.677810947559],"size":[270,82],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device_mode","name":"device_mode","type":"COMBO","widget":{"name":"device_mode"},"link":null}],"outputs":[{"localized_name":"SAM_MODEL","name":"SAM_MODEL","type":"SAM_MODEL","links":[10]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.25.1","Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":13,"type":"MaskPreview","pos":[1450.8692754068045,1025.7964373968032],"size":[140,246],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":12}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"MaskPreview"},"widgets_values":[]}],"links":[[1,3,0,2,0,"BBOX_DETECTOR"],[2,1,0,2,1,"IMAGE"],[3,2,0,4,0,"MASK"],[4,8,1,6,0,"SEGM_DETECTOR"],[5,6,0,10,0,"SEGS"],[6,10,0,9,0,"MASK"],[7,1,0,6,1,"IMAGE"],[8,1,0,7,2,"IMAGE"],[9,6,0,7,1,"SEGS"],[10,11,0,7,0,"SAM_MODEL"],[11,7,0,12,0,"MASK"],[12,7,1,13,0,"MASK"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.9885992447130012,"offset":[-273.4457580158732,-424.94629192411116]}},"version":0.4}